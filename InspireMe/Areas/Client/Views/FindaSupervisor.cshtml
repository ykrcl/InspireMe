@model InspireMe.Models.SearchSupervisorViewModel

@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer


@{
    ViewData["Title"] = @Localizer["Danışman Bul"];
    var allfields = System.Text.Json.JsonSerializer.Serialize(ViewBag.allfields);
    Model.supervisors = ViewBag.Supervisors;
}

<h1>@Localizer["Danışman Bul"]</h1>
<div class="container">
    <div style="width:100%;" class="d-flex justify-content-center mb-3 mt-2">
        <a data-ajax data-target="ContentPage" class="btn btn-primary" asp-area="Client" style="width:50%;" asp-controller="Bookings" asp-action="ListMeetings">@Localizer["Ayarlanan Görüşmeler"]</a>
    </div>
    
    <div class="card">
  <div class="card-body">
    
        <form asp-action="FindaSupervisor" asp-controller="Bookings" asp-area="Client"  method="post" data-ajaxform data-parentid="ContentPage" class="d-flex">
        <input  asp-for="fields" class="form-control me-2" type="search" placeholder="@Localizer["İlgi Alanları"]" aria-label="Search">
        <button asp-for="fields" class="btn btn-outline-success" type="submit">@Localizer["Ara"]</button>
      </form>
      <span asp-validation-for="fields" class="text-danger"></span>
</div>
</div>
<div class="card">
  <div class="card-body">
<table class="table table-striped">
    <thead>
        <tr>
            <th>
                @Localizer["Danışman Adı"]
            </th>
            <th>@Localizer["Danışman Alanları"]</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model.supervisors) {
            
         <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Item1.UserName)
            </td>
            <td>
                @foreach(var field in item.Item2){
                    @Html.DisplayFor(modelItem => field)
                }
            </td>
            <td>
                <a data-ajax data-nonstate data-ajaxafter="var PageModal=new bootstrap.Modal(document.getElementById('PageModal''),{keyboard:!1});PageModal.show()"  data-target="PageModalContent" class="btn btn-primary" asp-area="Client" asp-controller="Bookings" asp-action="BookaMeeting" asp-route-id="@item.Item1.Id">@Localizer["Randevu Al"]</a>
            </td>
        </tr>             
            
}
    </tbody>
</table>
 </div>
</div>
</div>